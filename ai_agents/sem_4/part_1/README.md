# –ß–∞—Å—Ç—å 1: Production Serving –¥–ª—è –ë–æ–ª—å—à–∏—Ö –Ø–∑—ã–∫–æ–≤—ã—Ö –ú–æ–¥–µ–ª–µ–π (LLM)

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –∫—É—Ä—Å–∞ –ø–æ—Å–≤—è—â–µ–Ω –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –∞—Å–ø–µ–∫—Ç–∞–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –±–æ–ª—å—à–∏—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö. –ú—ã –ø—Ä–æ–π–¥–µ–º –ø—É—Ç—å –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Å—Ç–æ–≥–æ, –Ω–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ API-—Å–µ—Ä–≤–∏—Å–∞ –¥–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –ø–µ—Ä–µ–¥–æ–≤—ã—Ö production-—Ä–µ—à–µ–Ω–∏–π.

## üéØ –ö–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã –∏ —Ü–µ–ª–∏

–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞ ‚Äî –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å, –ø–æ—á–µ–º—É "–Ω–∞–∏–≤–Ω—ã–π" –ø–æ–¥—Ö–æ–¥ –∫ —Ö–æ—Å—Ç–∏–Ω–≥—É LLM –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π, –∏ –∏–∑—É—á–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ç–µ—Ö–Ω–∏–∫–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–π, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π –∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.

**–í —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–π —á–∞—Å—Ç–∏ –º—ã —Ä–∞–∑–±–µ—Ä–µ–º:**
1.  **–ü—Ä–æ–±–ª–µ–º—ã –±–∞–∑–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:** –ù–∞ –ø—Ä–∏–º–µ—Ä–µ —Å–≤—è–∑–∫–∏ `FastAPI` + `Transformers` –º—ã –≤—ã—è–≤–∏–º —É–∑–∫–∏–µ –º–µ—Å—Ç–∞, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é, –∑–∞–¥–µ—Ä–∂–∫–æ–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç—å—é.
2.  **–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:** –ü–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å –≤–∞–∂–Ω–µ–π—à–∏–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –¥–ª—è LLM-—Å–µ—Ä–≤–∏—Å–æ–≤, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ **TTFT** (Time To First Token), **TPS** (Tokens Per Second) –∏ **ITL** (Inter-Token Latency).
3.  **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ LLM-–∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞:** –£–≥–ª—É–±–∏–º—Å—è –≤ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ —Ñ–∞–∑—ã **Prefill** –∏ **Decode**, —Ä–æ–ª—å **KV-–∫—ç—à–∞** –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –±–∞—Ç—á–∏–Ω–≥–∞**.
4.  **Production-ready —Ä–µ—à–µ–Ω–∏—è:** –°—Ä–∞–≤–Ω–∏–º –¥–≤–∞ –≤–µ–¥—É—â–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –¥–ª—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ ‚Äî **vLLM** –∏ **TensorRT-LLM**, ‚Äî –∏—Å–ø–æ–ª—å–∑—É—è –∏—Ö –≤ —Å–≤—è–∑–∫–µ —Å **Triton Inference Server**.
5.  **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —ç–∫–æ–Ω–æ–º–∏–∫–∞:** –û–±—Å—É–¥–∏–º —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (Tensor/Pipeline Parallelism) –∏ –ø—Ä–æ–≤–µ–¥–µ–º –∞–Ω–∞–ª–∏–∑ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–π —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ—Å—Ç–∏ self-hosting –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–ª–∞—Ç–Ω—ã—Ö API.

## üìÇ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

-   `Sem_4_p1_production_serving.ipynb`
    -   –û—Å–Ω–æ–≤–Ω–æ–π Jupyter-–Ω–æ—É—Ç–±—É–∫ —É—Ä–æ–∫–∞. –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫—É—é —á–∞—Å—Ç—å, –∫–æ–¥ –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤, —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –≤—ã–≤–æ–¥—ã. **–ù–∞—á–Ω–∏—Ç–µ –∏–∑—É—á–µ–Ω–∏–µ —Å —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞.**

-   `src/`
    -   `fast_api_llm.py`: –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è LLM-—Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ FastAPI –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –±–∞–∑–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞.
    -   `api_metrics_test.py`: –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –æ–±—â–µ–≥–æ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API (–≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞, RPS).
    -   `llm_inference_metrics.py`: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è LLM-–º–µ—Ç—Ä–∏–∫ (TTFT, TPS, ITL) –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –±—ç–∫–µ–Ω–¥–æ–≤ (`FastAPI`, `vLLM`, `TensorRT-LLM`).

-   `triton_instructions/`
    -   –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, –∑–∞–ø—É—Å–∫—É –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ **Triton Inference Server** —Å –±—ç–∫–µ–Ω–¥–∞–º–∏ **vLLM** –∏ **TensorRT-LLM**. –°–æ–¥–µ—Ä–∂–∏—Ç `README` —Ñ–∞–π–ª—ã –∏ –ø—Ä–∏–º–µ—Ä—ã –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤.

-   `docs/`
    -   –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –Ω–æ—É—Ç–±—É–∫–µ

## üöÄ –ö–∞–∫ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —É—Ä–æ–∫

1.  –û—Ç–∫—Ä–æ–π—Ç–µ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ —è—á–µ–π–∫–∏ –≤ –Ω–æ—É—Ç–±—É–∫–µ `Sem_4_p1_production_serving.ipynb`.
2.  –ù–æ—É—Ç–±—É–∫ –±—É–¥–µ—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Å–∫—Ä–∏–ø—Ç—ã –≤ –ø–∞–ø–∫–µ `src/` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π.
3.  –î–ª—è –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `vLLM` –∏ `TensorRT-LLM` –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `triton_instructions/`. 